Σε αυτή την ενότητα δοκιμάζουμε τον FSMSM με τρόπους τέτοιους ώστε να
αποκαλυφθούν κύρια χαρακτηριστικά και περιορισμοί του.

Αρχικά διενεργούμε μία σειρά πειραμάτων με βάση την πειραματική διάταξη της
ενότητας \ref{subsection:02_04_05:01} για αυξανόμενο μέγιστο ρυθμό
υπερδειγματοληψίας $\mu_{\max} = 2^{\nu_{\max}}$ ώστε να ερευνήσουμε την
απόκριση της μεθόδου \texttt{uf} (και συνεπώς, λόγω της πρακτικά ταυτόσημης
συμπεριφοράς της με τη μέθοδο \texttt{fm}, την απόκριση της \texttt{fm}) σε
ό,τι αφορά τα σφάλματα εκτίμησης προσανατολισμού, και κατά συνέπεια τα σφάλματα
εκτίμησης θέσης, δεδομένης της παρατήρησης \ref{remark:loc_prop_or}. Για αυτόν
τον λόγο διενεργούμε εκατό επαναλήψεις της μεθόδου πάνω στο dataset
\texttt{laserazos},\footnote{Το dataset είναι διαθέσιμο στη διεύθυνση
\url{https://censi.science/pub/research/2007-plicp/laserazosSM3.log.gz}} το
οποίο διαθέτει $778$ δείγματα πραγματικών δισδιάστατων σαρώσεων. Η πειραματική
διαδικασία που ακολουθήθηκε είναι η ίδια με αυτήν που περιγράφεται στην ενότητα
\ref{subsection:02_04_05:01}---σε αντίθεση όμως με αυτήν, εδώ έχουμε θέσει
$\sigma_R = \sigma_{\bm{M}} = 0.0$ m, και ο μέγιστος ρυθμός δειγματοληψίας
κυμαίνεται από $\mu_{\max} = 2^0$ έως $\mu_{\max} = 2^6$. Κατά συνέπεια για να
προκύψει το σχήμα \ref{fig:02_04_06:01} διενεργήθηκαν $100 \times 778 \times
|\{0,1,\dots,6\}| \approx 54\cdot 10^4$ ευθυγραμμίσεις πραγματικών με εικονικές
σαρώσεις. Το σχήμα αυτό απεικονίζει το μέσο όρο σφάλματος εκτίμησης ανά
επανάληψη εκτέλεσης πάνω στο dataset και την τυπική απόκλιση γύρω από αυτόν,
για τα σφάλματα εκτίμησης προσανατολισμού και θέσης (άνω και μεσαία σειρά), και
το μέσο χρόνο εκτέλεσης ανά επανάληψη (κάτω σειρά).

\begin{figure}[h]\centering
  \input{./figures/parts/02/chapters/04/sections/06/errorbar_varying_resolution.tex}
  \caption{\small Κύρια στατιστικά της μεθόδου \texttt{uf} σε εκατό επαναλήψεις
           πάνω στο dataset \texttt{laserazos}. Στον δεξιό κάθετο άξονα
           σημειώνονται οι τιμές των κλασμάτων μετρικών διαδοχικών ρυθμών
           υπερδειγματοληψίας---π.χ.
           $\dfrac{e_{\theta}|_{\mu_{\max} = 2^1}}{e_{\theta}|_{\mu_{\max} = 2^0}} = 0.54$,
           $\dfrac{e_{xy}|_{\mu_{\max} = 2^1}}{e_{xy}|_{\mu_{\max} = 2^0}} = 0.39$,
           και $\dfrac{T|_{\mu_{\max} = 2^1}}{T|_{\mu_{\max} = 2^0}} = 2.14$. Η
           συντομογραφία ΑΠ σημαίνει την απροσδιοριστία}
  \label{fig:02_04_06:01}
\end{figure}

Σε αυτά τα διαγράμματα παρατηρούμε πως ο διπλασιασμός του ρυθμού
υπερδειγματοληψίας επιφέρει μεταβλητή μείωση των σφαλμάτων και μεταβλητή αύξηση
του χρόνου εκτέλεσης, πάντα όμως γύρω από τον παράγοντα δύο. Τα άνω δύο
διαγράμματα επιβεβαιώνουν την παρατήρηση \ref{remark:loc_prop_or}, δηλαδή πως
χαμηλότερα σφάλματα εκτίμησης προσανατολισμού οδηγούν σε χαμηλότερα σφάλματα
εκτίμησης θέσης. Ταυτόχρονα παρατηρείται πως, εν γένει, η αύξηση του ρυθμού
υπερδειγματοληψίας οδηγεί σε επιβράδυνση της αύξησης του μέσου σφάλματος και
του χρόνου εκτέλεσης: όσο αυξάνει ο ρυθμός υπερδειγματοληψίας τόσο  αυξάνει το
κλάσμα ανάμεσα σε διαδοχικές τιμές των μετρικών μέσου σφάλματος και χρόνου
εκτέλεσης.


Στο σχήμα \ref{fig:02_04_06:02} παρατίθεται ένα παράδειγμα εξέλιξης της
ευθυγράμμισης μίας πραγματικής δισδιάστατης πανοραμικής σάρωσης με εικονικές
σαρώσεις μέσω της μεθόδου FSMSM, και συγκεκριμένα μέσω της μεθόδου \texttt{x1}.
Εδώ η πραγματική σάρωση επιβαρύνεται με διαταραχές τυπικής απόκλισης $\sigma_R
= 0.05$ m, και οι εικονικές σαρώσεις προκύπτουν απο χάρτη ο οποίος αναπαριστά
στην εντέλεια το περιβάλλον του αισθητήρα lidar ($\sigma_{\bm{M}} = 0.0$ m). Η
άνω σειρά του σχήματος παρουσιάζει την αρχική συνθήκη ευθυγράμμισης στο χάρτη
που σημειώνεται με μαύρο περίγραμμα στα αριστερά, δηλαδή την πραγματική στάση
του αισθητήρα (μαύρο χρώμα) και την αρχική εκτιμώμενή του στάση (ματζέντα). Η
πραγματική στάση του αισθητήρα είναι $\bm{p} = [0.563, 2.1, 0.47]^\top$ και η
αρχική εκτίμησή της $\hat{\bm{p}} = [0.26, 2.35, 1.738]^\top$. Στα δεξιά
παρουσιάζεται η πραγματική σάρωση με μαύρο χρώμα, και η εικονική σάρωση που
υπολογίζεται από την αρχική εκτίμηση της στάσης του αισθητήρα με ματζέντα, στο
τοπικό σύστημα συντεταγμένων της κάθε μίας. Στην πρώτη στήλη του
περιγεγραμμένου διαγράμματος παρουσιάζονται το πραγματικό διάνυσμα μετρήσεων
(μαύρο) και το εικονικό διάνυσμα μετρήσεων αμέσως μετά την εφαρμογή του βήματος
εκτίμησης του προσανατολισμού της πραγματικής στάσης του αισθητήρα (με
ματζέντα---Αλγόριθμος \ref{alg:02_04_04:rc}). Στη δεύτερη στήλη παρουσιάζονται
η πραγματική στάση του αισθητήρα και οι αντιστοιχούσες εκτιμήσεις της FSMSM για
αυτή. Στην τρίτη στήλη παρουσιάζονται τα διαγράμματα εξέλιξης του ολικού
σφάλματος εκτίμησης (με μπλε χρώμα) και της τιμής της μετρικής CAER (κόκκινο).
Οι υπόλοιπες στήλες παρουσιάζουν τα ίδια περιεχόμενα αμέσως μετά την εφαρμογή
του βήματος εκτίμησης της θέσης της πραγματικής στάσης του αισθητήρα
(Αλγόριθμος \ref{alg:icte}).  Η τελευταία σειρά του σχήματος παρουσιάζει το
αποτέλεσμα του FSMSM στον Ευκλείδειο χώρο (αριστερά)---δηλαδή την τελική
εκτίμηση της στάσης του αισθητήρα---και στο χώρο μετρήσεων---δηλαδή την
ευθυγράμμιση της εικονικής σάρωσης από την τελική εκτίμηση στάσης με την
πραγματική σάρωση. Η τελική εκτίμηση της FSMSM είναι $\hat{\bm{p}} = [0.55854,
2.09692, 0.46509]^\top$, με σφάλμα εκτίμησης θέσης $e_{xy} = 0.00542$ m και
σφάλμα εκτίμησης προσανατολισμού $e_{\theta} = 0.00491$ rad.

\begin{figure}
  \begin{subfigure}{\linewidth}\hspace{-0.25cm}
    \input{./figures/parts/02/chapters/04/sections/06/sr5_sm0_0.tex}
  \end{subfigure}\\%
  \begin{center}\vspace{-0.5cm}
    \hfill \texttt{FSMSM}\vspace{-0.5cm}
  \end{center}
  \begin{framed}
    \begin{subfigure}{\linewidth}\hspace{-0.25cm}
    \input{./figures/parts/02/chapters/04/sections/06/sr5_sm0_1.tex}
    \end{subfigure}\\%
  \end{framed}
  \begin{subfigure}{\linewidth}\hspace{-0.25cm}
    \input{./figures/parts/02/chapters/04/sections/06/sr5_sm0_2.tex}
  \end{subfigure}%
  \caption{\small Παράδειγμα εξέλιξης επιτυχούς ευθυγράμμισης πραγματικής με
           εικονικές σαρώσεις μέσω της μεθόδου FSMSM. Η πραγματική στάση του
           αισθητήρα και η πραγματική σάρωση απεικονίζονται με μαύρο χρώμα, ενώ
           η εκτίμηση της στάσης και οι εικονικές σαρώσεις με ματζέντα. Τα
           διαγράμματα της τρίτης και έκτης στήλης απεικονίζουν με μπλε το
           ολικό σφάλμα εκτίμησης στάσης, και με κόκκινο την τιμή της μετρικής
           CAER}
  \label{fig:02_04_06:02}
\end{figure}

Στο σχήμα \ref{fig:02_04_06:03} παρουσιάζονται τα ίδια στοιχεία όπως και στο
σχήμα \ref{fig:02_04_06:02}, για μία ανεπιτυχή όμως ευθυγράμμιση. Εδώ η
εκτίμηση της στάσης του αισθητήρα ισούται με την πραγματική του στάση,
μετατοπισμένη όμως κατά ένα μέτρο στον οριζόντιο άξονα προς τα αριστερά. Ο
λόγος για τον οποίον η ευθυγράμμιση αποτυγχάνει είναι γιατί η εκτίμηση του
προσανατολισμού αποκλίνει κιόλας από το πρώτο βήμα, το οποίο γεγονός οφείλεται
στην αδυναμία της μεθόδου \texttt{x1} να εκτιμήσει τον προσανατολισμό της
πραγματικής στάσης του αισθητήρα, και όχι σε κάποια μη γραμμικότητα της
μετρικής CAER. Η αιτία αυτής της αδυναμίας οφείλεται στο ``μεγάλο" σφάλμα
εκτίμησης θέσης. Αυτού του είδους τα σφάλματα ενεργούν ως δυσχέρειες στην
ευθυγράμμιση λόγω του γεγονότος ότι οι μέθοδοι εκτίμησης του προσανατολισμού
της FSMSM λειτουργούν απευθείας στο χώρο των μετρήσεων χωρίς τον υπολογισμό
αντιστοιχίσεων, σε αντίθεση με τις υπόλοιπες μεθόδους ευθυγράμμισης που είδαμε
στην προηγούμενη ενότητα. Ως αναφορά παραθέτουμε πως η μέθοδος PLICP, στο
συγκεκριμένο παράδειγμα, είναι ικανή να εκτιμήσει την πραγματική στάση με
τελικό σφάλμα εκτίμησης περίπου στα δύο εκατοστά.\footnote{Εδώ πρέπει να
επισημάνουμε πως η σύγκλιση σε καταστάσεις ``μεγάλων" σφαλμάτων θέσης δεν είναι
κάποιο αποκλειστικό χαρακτηριστικό των μεθόδων που χρησιμοποιούν αντιστοιχίες,
όπως ακριβώς και η απόκλιση δεν είναι αποκλειστικό χαρακτηριστικό της FSMSM.
Όπως θα δούμε σε αντίστοιχο παράδειγμα στο επόμενο κεφάλαιο δεν υπάρχει κάποιος
ευδιάκριτος παράγοντας που διακρίνει εκ-των-προτέρων την απόκριση των δύο
οικογενειών μεθόδων.} Τέτοιου μέτρου αρχικά σφάλματα θέσης δεν αναφέρονται στη
βιβλιογραφία (---ούτε υπάρχουν στην εμπειρία του συγγραφέα)---παρ' όλα αυτά
αναφέρουμε τον περιορισμό της μεθόδου FSMSM όσο αφορά σε τέτοια σφάλματα θέσης
ως έναν παράγοντα οριοθέτησης της απόκρισης της μεθόδου ως θεωρητικό
κατασκεύασμα. Σε αυτό το παράδειγμα παρατηρούμε πως μετά την απόκλιση της
εκτίμησης προσανατολισμού το σφάλμα εκτίμησης της θέσης αυξάνει, με αποτέλεσμα
την επιπρόσθετη επιβάρυνση του συστήματος εκτίμησης προσανατολισμού στην
επόμενη επανάληψη. Σε αυτό το σημείο η εκτίμηση στάσης έχει αποκλίνει περαιτέρω,
και έχει παγιδευτεί ες αεί σε όλως διόλου εσφαλμένη εκτίμηση. Και σε αυτήν την
περίπτωση, εάν καταγράφετο η τιμή της μετρικής CAER πριν και μετά τη διενέργεια
της ευθυγράμμισης, θα ήταν δυνατή η σύγκριση των δύο τιμών, και κατά συνέπεια
η αποφυγή, κατ' ελάχιστον, της απόκλισης της εκτίμησης.

\begin{figure}[h]
  \begin{subfigure}{\linewidth}\centering
      \input{./figures/parts/02/chapters/04/sections/06/sr5_sm0_fail_0.tex}
    \end{subfigure}\vspace{1cm}\\
    \begin{subfigure}{\linewidth}
      \input{./figures/parts/02/chapters/04/sections/06/sr5_sm0_fail_1.tex}
    \end{subfigure}
  \vspace{0.5cm}
  \caption{\small Παράδειγμα εξέλιξης ανεπιτυχούς ευθυγράμμισης πραγματικής με
           εικονικές σαρώσεις μέσω της μεθόδου FSMSM. Η πραγματική στάση του
           αισθητήρα και η πραγματική σάρωση απεικονίζονται με μαύρο χρώμα, ενώ
           η εκτίμηση της στάσης και οι εικονικές σαρώσεις με ματζέντα. Τα
           διαγράμματα της τρίτης και έκτης στήλης απεικονίζουν με μπλε το
           ολικό σφάλμα εκτίμησης στάσης, και με κόκκινο την τιμή της μετρικής
           CAER}
  \label{fig:02_04_06:03}
\end{figure}

Οι κύριοι περιορισμοί της απόκρισης των προσθετικών μεθόδων ευθυγράμμισης
πραγματικών με εικονικές σαρώσεις αφορούν στα αμετάβλητα χαρακτηριστικά μεγέθη
του ίδιου του φυσικού αισθητήρα σαρώσεων, τα οποία είναι δυο. Το πρώτο είναι το
μέγεθος των διαταραχών που επιδρούν στις μετρήσεις του, την απόκριση επί του
οποίου εξετάσαμε για διάφορες τιμές στην ενότητα \ref{section:02_04_05}. Το
δεύτερο είναι το βεληνεκές του αισθητήρα, δηλαδή η μέγιστη απόσταση μέχρι την
οποία μπορεί να ανιχνεύσει την παρουσία αντικειμένων.

Στην άνω σειρά του σχήματος \ref{fig:02_04_06:04} εμφανίζονται με λευκό χρώμα
τέσσερα διαφορετικά περιβάλλοντα, μέσα στα οποία τοποθετείται ένας αισθητήρας
στις θέσεις που σημειώνονται με βούλες βαθύ μπλε χρώματος. Οι θέσεις αυτές
είναι τα κέντρα των ομόκεντρων κύκλων που εμφανίζονται στην ίδια σειρά. Η
πειραματική διάταξη που ακολουθεί στοχεύει στην καταγραφή της απόκρισης
τεσσάρων κυρίων μεθόδων, ήτοι των PLICP, NDT, \texttt{x1}, και \texttt{uf}, σε
πειράματα όπου το βεληνεκές του αισθητήρα μεταβάλλεται έτσι ώστε οι μετρήσεις
του να περιλαμβάνουν όλα τα εμπόδια του περιβάλλοντος, μειούμενο μέχρι που να
μην περιλαμβάνουν κανένα. Το βεληνεκές του αισθητήρα είναι η ακτίνα των κύκλων
της πρώτης σειράς του σχήματος, και το χρώμα αυτών αναπαριστά το ποσοστό των
ακτίνων που φέρουν χωρική πληροφορία, βάσει της χρωματικής λωρίδας που
παρουσιάζεται στη δεύτερη σειρά. Στις δύο τελευταίες σειρές παρατίθενται οι
μέσοι όροι των ολικών σφαλμάτων εκτίμησης στάσης σε δέκα επαναλήψεις,
για κάθε μέθοδο και περιβάλλον, για $\sigma_R = \{0.01, 0.05\}$ m και
$\sigma_{\bm{M}} = 0.0$ m.

\begin{figure}
  \begin{subfigure}{\linewidth}
    \input{./figures/parts/02/chapters/04/sections/06/smsm_max_range_limitations_0.tex}
  \end{subfigure}\\
  \begin{subfigure}{\linewidth}
    \input{./figures/parts/02/chapters/04/sections/06/smsm_max_range_limitations_1.tex}
  \end{subfigure}
  \vspace{1cm}
  \caption{\small Πειράματα απόκρισης του σφάλματος εκτίμησης των PLICP, NDT,
           \texttt{x1} και \texttt{uf} σε συνθήκες μειούμενου
           βεληνεκούς-μέγιστου εύρους για δύο τιμές τυπικής απόκλισης των
           διαταραχών που επιδρούν στις μετρήσεις του φυσικού αισθητήρα όταν
           $\sigma_{\bm{M}} = 0.0$ m. Η απόκριση της μεθόδου \texttt{fm} είναι
           παρόμοια αυτής της μεθόδου \texttt{uf}}
  \label{fig:02_04_06:04}
\end{figure}

Στα διαγράμματα των τελευταίων δύο σειρών παρατηρούμε πως: (α) δεν υφίσταται
ομοιόμορφη απόκριση για οποιαδήποτε μέθοδο όσο αφορά σε κάθε περιβάλλον:
συνεπώς η απόκριση κάθε μεθόδου εξαρτάται και από τα χαρακτηριστικά του
εκάστοτε περιβάλλοντος, (β) η απόκριση της μεθόδου \texttt{uf} είναι παρόμοια
με την ονομαστική για ποσοστό αριθμού ακτίνων εντός του βεληνεκούς έως και
$80\%$ για κάθε περιβάλλον και επίπεδο διαταραχών υπό δοκιμή, (γ) η απόκριση
της μεθόδου \texttt{x1} εμφανίζει κατά μέσο όρο τα χαμηλότερα σφάλματα όταν
λαμβάνεται υπόψη ολόκληρο το εύρος των ποσοστών ακτίνων ($[0\%,100\%]$) εντός
του βεληνεκούς, (δ) το σφάλμα εκτίμησης της μεθόδου PLICP είναι το μέγιστο
ανάμεσα σε όλες τις υπό δοκιμή μεθόδους στο διάστημα $[50\%,100\%]$ των ακτίνων
όταν $\sigma_R = 0.05$ m για τρία από τα τέσσερα περιβάλλοντα, (ε) το σφάλμα
εκτίμησης της μεθόδου NDT αυξάνει με συνέπεια σε κάθε περιβάλλον και επίπεδο
διαταραχών υπό δοκιμή καθώς μειώνεται το ποσοστό των ακτίνων των οποίων οι
μετρήσεις βρίσκονται εντός του μέγιστου εύρους. Τούτων αναφερθέντων, δεν είναι
δυνατό να προκύψει κάποιο συμπέρασμα που για δεδομένο ποσοστό ακτίνων εντός
μέγιστου εύρους καθορίζει με συνέπεια την περισσότερο ακριβή μέθοδο
ευθυγράμμισης. Με βάση τα παραπάνω πειραματικά αποτελέσματα, η πιο συνετή
κίνηση όσο αφορά σε όλες τις προσθετικές μεθόδους ευθυγράμμισης είναι ο
πρότερος της ευθυγράμμισης υπολογισμός του ποσοστού των ακτίνων εντός του
βεληνεκούς του αισθητήρα, και η λήψη απόφασης ευθυγράμμισης ή μη, αναλόγως με
το είδος του περιβάλλοντος (δύσκολο έως αδύνατον) ή το είδος της μεθόδου (π.χ.
οι μέθοδοι \texttt{x1} και \texttt{uf} συμπεριφέρονται κατά προσέγγιση
ονομαστικά ως το $70\%$ των ακτίνων να βρίσκονται εντός του βεληνεκούς σε τρία
από τα τέσσερα υπό δοκιμή περιβάλλοντα, για κάθε επίπεδο διαταραχών των
μετρήσεων).
