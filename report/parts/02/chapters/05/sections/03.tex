%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Πειραματική διάταξη}
\label{subsection:02_05_03:01}

Η πειραματική διαδικασία διεξάγεται με τη χρήση των ίδιων πέντε συνόλων
δεδομένων αναφοράς τα οποία χρησιμοποιήθηκαν στο προηγούμενο κεφάλαιο για τη
δοκιμή και εξακρίβωση της επίδοσης των αλγορίθμων που κατασκευάσαμε και των
αλγορίθμων της βιβλιογραφίας (Πίνακας \ref{tbl:02:04_05:dataset_sizes}).

Η πειραματική διάταξη είναι η ακόλουθη. Οι ακτίνες κάθε δείγματος του συνόλου
δεδομένων $D_k^d$, $k \in \{0,1,\dots,4\}$, $d \in \{0,1,\dots,|D_k|\}$ πρώτα
προβάλλονται στο επίπεδο $x-y$ γύρω από τη στάση $\bm{r}_k^d$. Οι σαρώσεις των
συνόλων δεδομένων δεν είναι πανοραμικές, επομένως ο υπόλοιπος γωνιακός χώρος
συμπληρώνεται με ένα ημικυκλικό τόξο που ενώνει τις δύο ακραίες ακτίνες της
κάθε σάρωσης. Η ακτίνα του ημικυκλίου ορίζεται ως η ελάχιστη των δύο ακραίων
ακτίνων του $D_k^d$. Διαφορετικοί τρόποι για το κλείσιμο του περιβάλλοντος
(π.χ.  μέσω καθρεφτισμού των μετρήσεων κατά $x$ ή $y$, ή ένωσης των δύο ακραίων
ακτίνων μέσω ευθύγραμμου τμήματος) έχουν βρεθεί ισοδύναμοι όσον αφορά στην
επίδοση των υπό δοκιμής μεθόδων. Το σύνολο σημείων που προκύπτει θεωρείται ως ο
περιβάλλον χώρος $\bm{W}_k^d$ του αισθητήρα αποστάσεων. Η πρώτη πραγματική
στάση του αισθητήρα $\bm{p}_{0,k}^d$ παράγεται τυχαία εντός του πολυγώνου που
σχηματίζεται από το σύνολο σημείων $\bm{W}_k^d$. Η σάρωση $\mathcal{S}_{0,k}^d$
υπολογίζεται μέσω δεσμοβολής $N_s$ ακτίνων από τη στάση $\bm{p}_{0,k}^d$ προς
τις ακμές του πολυγώνου που σχηματίζεται από τα σημεία του συνόλου
$\bm{W}_k^d$, σε ένα γωνιακό πεδίο όρασης $\lambda = 2\pi$. Η στάση του
αισθητήρα $\bm{p}_{1,k}^d$ λαμβάνεται μέσω διαταραχής των συνιστωσών της στάσης
$\bm{p}^d_{0,k}$ με ποσότητες που εξάγονται από ομοιόμορφα κατανεμημένες
κατανομές σφαλμάτων $U_{xy}(-\overline{\delta}_{xy}, \overline{\delta}_{xy})$,
$U_{\theta}(-\overline{\delta}_{\theta}, \overline{\delta}_{\theta})$:
$\overline{\delta}_{xy}$, $\overline{\delta}_\theta$ $\in \mathbb{R}_{\geq 0}$.

Προκειμένου να ελεγχθεί η επίδοση των αλγορίθμων σε πραγματικές συνθήκες
δοκιμάζονται πέντε επίπεδα θορύβου με επίδραση στις μετρήσεις της πραγματικής
σάρωσης $\mathcal{S}_{R,k}^d$: κάθε μέτρηση διαταράσσεται από θόρυβο
$\mathcal{N}_{R} \sim (0, \sigma_{R}^2)$: $\sigma_R \in \{0.01, 0.03, 0.05,
0.10, 0.20\}$ m. Οι τιμές των τυπικών αποκλίσεων υπολογίστηκαν από εμπορικά
διαθέσιμους πανοραμικούς αισθητήρες lidar, προσδιορίζοντας το μέγεθος της
μέγιστης αναφερόμενης τιμής των σφαλμάτων απόστασης τους και διαιρώντας το με
τον συντελεστή τρία. Το σκεπτικό είναι ότι $99.73\%$ των σφαλμάτων εντοπίζονται
εντός $3\sigma$ γύρω από την πραγματική απόσταση μεταξύ μιας ακτίνας και ενός
εμποδίου, υποθέτοντας ότι τα σφάλματα κατανέμονται κανονικά. Η ελάχιστη τιμή
$\sigma_R = 0.01$ m αναφέρεται για ακριβείς πανοραμικούς αισθητήρες μεγάλου
κόστους VELODYNE \cite{velodyne_datasheet}, και οι υπόλοιπες για πανοραμικούς
αισθητήρες με ελκυστική τιμή, αλλά αυξημένα επίπεδα διαταραχών, π.χ. RPLIDAR
A2M8, YDLIDAR G4, G6, TG30 και X4 \cite{a2m8_datasheet,ydlidar}. Το μέγεθος
των σαρώσεων εισόδου ορίστηκε σε $N_s=360$ ακτίνες. Για την αξιολόγηση της
επίδοσης των αλγορίθμων υπό δοκιμή ως προς τις αρχικές συνθήκες μετατόπισης
συμμορφωνόμαστε με και υιοθετούμε την πειραματική διάταξη του Censi
\cite{Censi2008a}, η οποία συνίσταται στην προοδευτική αύξηση της απόστασης
μεταξύ των συνιστωσών των δύο στάσεων. Οι εν λόγω διαμορφώσεις παρατίθενται
στον πίνακα \ref{tbl:02:05_03:deltas}.

\begin{table}\centering
  \begin{tabular}{ll}
  Συντομογραφία         & Διαμόρφωση (m,rad)                                                      \\  \toprule
  $\Delta_0$            & $(\overline{\delta}_{xy}, \overline{\delta}_{\theta}) = (0.05, 0.035)$  \\
  $\Delta_1$            & $(\overline{\delta}_{xy}, \overline{\delta}_{\theta}) = (0.10, 0.070)$  \\
  $\Delta_2$            & $(\overline{\delta}_{xy}, \overline{\delta}_{\theta}) = (0.15, 0.150)$  \\
  $\Delta_3$            & $(\overline{\delta}_{xy}, \overline{\delta}_{\theta}) = (0.20, 0.300)$  \\
  $\Delta_4$            & $(\overline{\delta}_{xy}, \overline{\delta}_{\theta}) = (0.20, 0.560)$  \\
  $\Delta_5$            & $(\overline{\delta}_{xy}, \overline{\delta}_{\theta}) = (0.20, \pi/4)$  \\  \bottomrule
  \end{tabular}
\caption{\small Οι διαμορφώσεις των μέγιστων αποστάσεων μεταξύ οποιωνδήποτε δύο
         στάσεων του αισθητήρα με βάση τις οποίες δοκιμάσθηκε η απόκριση όλων
         των μεθόδων. Οι δύο στάσεις έχουν απόσταση κατά συνιστώσα θέσης
         $U_{xy}(-\overline{\delta}_{xy}, \overline{\delta}_{xy})$, και
         κατά προσανατολισμό
         $U_{\theta}(-\overline{\delta}_{\theta}, \overline{\delta}_{\theta})$,
         όπου με $U(\alpha,\beta)$ συμβολίζεται η ομοιόμορφη συνεχής κατανομή}
  \label{tbl:02:05_03:deltas}
\end{table}

Ο ελάχιστος και ο μέγιστος ρυθμός υπερδειγματοληψίας του χάρτη για τη μέθοδο
\texttt{fsm} ορίστηκε σε $(\mu_{\min},\mu_{\max}) \equiv
(2^{\nu_{\min}},2^{\nu_{\max}}) \equiv (2^0,2^3)$, και ο αριθμός των
επαναλήψεων της συνιστώσας εκτίμησης θέσης ορίστηκε σε $I_T=5\nu$. Το κριτήριο
σύγκλισης για όλες τις μεθόδους εφαρμόσθηκε μόνο ως προς την διαφορά εκτίμησης
του προσανατολισμού: $\varepsilon_{\delta p} = 10^{-5}$. Για λόγους περιορισμού
του χρόνου εκτέλεσης του FSM τέθηκε άνω όριο στον αριθμό επανεκκινήσεων, με
τιμή $R_{\max} = 100$ επανεκκινήσεις.

Για σκοπούς σύγκρισης της επίδοσης του FSM με μεθόδους ευθυγράμμισης σαρώσεων η
πειραματική διαδικασία διενεργείται έναντι των μεθόδων ευθυγράμμισης
Μετασχηματισμού Κανονικών Κατανομών (Normal Distributions Transform---NDT)
\cite{Bibera,ndt_code}, FastGICP \cite{Segal2009a,fgicp_code}, και PLICP
\cite{Censi2008a,plicp_code}. Οι NDT, FastGICP και PLICP ανήκουν στις
\textit{καθιερωμένες} μεθόδους ευθυγράμμισης σαρώσεων
\cite{Koide2021a,Xu2018b,Sobreira2019b,Pishehvari2019b,Qingshan2019c,Pham2021b}.
Επιπλέον, για λόγους σύγκρισης έναντι σύγχρονων αλγορίθμων, οι πειραματική
διαδικασία επεκτείνεται στους αλγορίθμους FastVGICP
\cite{Koide2021a,fgicp_code} και NDT-PSO \cite{Bouraine2021,ndt_pso_code}. Η
πειραματική διαδικασία δεν περιλαμβάνει αυτή τη φορά τη μέθοδο TEASER λόγω της
αδυναμίας εκτέλεσής της σε χρόνους τέτοιους που να συμβαδίζουν με το ρυθμό
ανανέωσης μετρήσεων από έναν τυπικό αισθητήρα lidar.

Για κάθε πείραμα οι μέθοδοι PLICP, NDT, FastGICP, FastVGICP, NDT-PSO, και
\texttt{fsm} εκτελέσθηκαν για $E = 10$ φορές για όλα τα δείγματα των $D_k \in D
\equiv \{$\texttt{aces}, \texttt{fr079}, \texttt{intel}, \texttt{mit\_csail},
\texttt{mit\_killian}$\}$, $k \in \{0,1,\dots,4\}$, για κάθε διαμόρφωση
μέγιστων αποστάσεων στάσεων (πίνακας \ref{tbl:02:05_03:deltas}), και κάθε
επίπεδο θορύβου $\sigma_R$.  Επομένως κάθε μέθοδος δοκιμάστηκε συνολικά
$N_{tot} = 10 \times 6 \times 5 \times \sum |D_k|\approx
1.36$$\cdot10$$\texttt{e}$$+$$7$ φορές.

Για κάθε τελική εκτίμηση στάσης $\hat{\bm{p}}_{k,e}^{d\prime}$ που εξάγεται από
κάθε αλγόριθμο, $d = 1,2,\dots,|D_k|$, $k \in \{0,1,\dots,4\}$,
$e=1,2,\dots,E$, καταγράφεται η απόκλισή της από την πραγματική στάση
$\bm{p}_{0,k}^d$ με τη μορφή του μέτρου σφάλματος θέσης και προσανατομισμού.

Τα πειράματα επί των FSM, FastGICP, FastVGICP, PLICP, και NDT πραγματοποιήθηκαν
σε ένα μόνο νήμα, σε υπολογιστή με συχνότητα CPU $4.0$ GHz. Ο NDT-PSO είναι
παράλληλη υλοποιήση: τα πειράματά του διεξήχθησαν σε τέσσερα νήματα, σε
υπολογιστή με συχνότητα CPU $2.2$ GHz.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Αποτελέσματα}
\label{subsection:02_05_03:02}

\begin{figure}\vspace{1cm}\hspace{0.5cm}
  \input{./figures/parts/02/chapters/05/sections/03/position_errors.tex}
  \vspace{1cm}
  \caption{}
  \label{}
\end{figure}


\begin{figure}\vspace{1cm}\hspace{0.5cm}
  \input{./figures/parts/02/chapters/05/sections/03/orientation_errors.tex}
  \vspace{1cm}
  \caption{}
  \label{}
\end{figure}

\begin{figure}\vspace{1cm}\hspace{0.5cm}
  \input{./figures/parts/02/chapters/05/sections/03/total_times.tex}
  \vspace{1cm}
  \caption{}
  \label{}
\end{figure}



\begin{figure}\vspace{1cm}\hspace{0.5cm}
  \input{./figures/parts/02/chapters/05/sections/03/caer_style_position_errors_binned_dxyt6.tex}
  \vspace{1cm}
  \caption{}
  \label{}
\end{figure}


\begin{figure}\vspace{1cm}\hspace{0.5cm}
  \input{./figures/parts/02/chapters/05/sections/03/caer_style_orientation_errors_binned_dxyt6.tex}
  \vspace{1cm}
  \caption{}
  \label{}
\end{figure}


\begin{figure}\vspace{1cm}\hspace{0.5cm}
  \input{./figures/parts/02/chapters/05/sections/03/caer_style_position_errors_dxyt6.tex}
  \vspace{1cm}
  \caption{}
  \label{}
\end{figure}



\begin{figure}\vspace{1cm}\hspace{0.5cm}
  \input{./figures/parts/02/chapters/05/sections/03/caer_style_orientation_errors_dxyt6.tex}
  \vspace{1cm}
  \caption{}
  \label{}
\end{figure}

\begin{figure}\vspace{1cm}\hspace{0.5cm}
  \input{./figures/parts/02/chapters/05/sections/03/recoveries.tex}
  \vspace{1cm}
  \caption{}
  \label{}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Εξέταση και αξιολόγηση των αποτελεσμάτων}
\label{subsection:02_05_03:03}
